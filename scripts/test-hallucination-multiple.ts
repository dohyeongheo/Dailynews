/**
 * ë‹¤ì–‘í•œ í• ë£¨ì‹œë„¤ì´ì…˜ íŒ¨í„´ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
 */

import { checkHallucinationPatterns } from "@/lib/utils/hallucination-detector";

// í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë“¤
const testCases = [
  {
    name: "ì¡´ìž¬í•˜ì§€ ì•ŠëŠ” ì˜í™” ë‰´ìŠ¤ (ì˜ˆì‹œ)",
    title: "ì˜í™” 'ì„œìš¸ 1988' ê°œë´‰ ì²« ì£¼ë§ 200ë§Œ ê´€ê° ë™ì›",
    content: `1988ë…„ ì„œìš¸ ì˜¬ë¦¼í”½ì„ ë°°ê²½ìœ¼ë¡œ í•œ ì˜í™” 'ì„œìš¸ 1988'ì´ ê°œë´‰ ì²« ì£¼ë§ì—ë§Œ 200ë§Œ ëª…ì˜ ê´€ê°ì„ ë™ì›í•˜ë©° ìƒˆí•´ ê·¹ìž¥ê°€ í¥í–‰ ëŒí’ì„ ì¼ìœ¼í‚¤ê³  ìžˆë‹¤.`,
    sourceMedia: "í…ŒìŠ¤íŠ¸ ì–¸ë¡ ì‚¬",
  },
  {
    name: "ì •ìƒì ì¸ ì˜í™” ë‰´ìŠ¤ (ì‹¤ì œ ì¡´ìž¬í•˜ëŠ” ì˜í™” ì˜ˆì‹œ)",
    title: "ì˜í™” 'ê¸°ìƒì¶©' í•´ì™¸ì—ì„œ í° ì„±ê³µ",
    content: `ë´‰ì¤€í˜¸ ê°ë…ì˜ ì˜í™” 'ê¸°ìƒì¶©'ì´ ì¹¸ ì˜í™”ì œì—ì„œ í™©ê¸ˆì¢…ë ¤ìƒì„ ìˆ˜ìƒí–ˆë‹¤.`,
    sourceMedia: "ì—°í•©ë‰´ìŠ¤",
  },
  {
    name: "ê³¼ë„í•˜ê²Œ êµ¬ì²´ì ì¸ ì •ë³´ (í• ë£¨ì‹œë„¤ì´ì…˜ ì˜ì‹¬)",
    title: "ìƒˆë¡œìš´ ë“œë¼ë§ˆ '2024 ë¡œë§¨ìŠ¤' ì²« ë°©ì†¡ ì‹œì²­ë¥  15.3% ê¸°ë¡",
    content: `2024ë…„ 1ì›” 15ì¼ì— ì²« ë°©ì†¡ëœ ë“œë¼ë§ˆ '2024 ë¡œë§¨ìŠ¤'ê°€ ì²« ë°©ì†¡ ì‹œì²­ë¥  15.3%ë¥¼ ê¸°ë¡í•˜ë©° í™”ì œê°€ ë˜ê³  ìžˆë‹¤. ì£¼ì¸ê³µ Aë°°ìš°ì™€ Bë°°ìš°ì˜ ì—´ì—°ì´ ì‹œì²­ìžë“¤ì˜ í˜¸ì‘ì„ ì–»ê³  ìžˆìœ¼ë©°, 2íšŒ ë°©ì†¡ë¶€í„°ëŠ” 20%ë¥¼ ë„˜ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒëœë‹¤.`,
    sourceMedia: "í…ŒìŠ¤íŠ¸ ë°©ì†¡",
  },
  {
    name: "ì •ìƒì ì¸ ë‰´ìŠ¤ (í• ë£¨ì‹œë„¤ì´ì…˜ ì•„ë‹˜)",
    title: "íƒœêµ­ ê´€ê´‘ê° ì¦ê°€ ì¶”ì„¸",
    content: `ìµœê·¼ í•œêµ­ì„ ë°©ë¬¸í•˜ëŠ” íƒœêµ­ ê´€ê´‘ê° ìˆ˜ê°€ ì¦ê°€í•˜ê³  ìžˆë‹¤. ì •ë¶€ëŠ” ì´ë¥¼ ìœ„í•´ ë‹¤ì–‘í•œ ê´€ê´‘ í”„ë¡œê·¸ëž¨ì„ ë§ˆë ¨í•˜ê³  ìžˆë‹¤.`,
    sourceMedia: "í•œêµ­ì¼ë³´",
  },
  {
    name: "ë°˜ë³µ íŒ¨í„´ì´ ë§Žì€ ê²½ìš° (í• ë£¨ì‹œë„¤ì´ì…˜ ì˜ì‹¬)",
    title: "í…ŒìŠ¤íŠ¸ ë‰´ìŠ¤",
    content: `ë‰´ìŠ¤ ë‚´ìš©ìž…ë‹ˆë‹¤. ë‰´ìŠ¤ ë‚´ìš©ìž…ë‹ˆë‹¤. ë‰´ìŠ¤ ë‚´ìš©ìž…ë‹ˆë‹¤. ë‰´ìŠ¤ ë‚´ìš©ìž…ë‹ˆë‹¤. ë‰´ìŠ¤ ë‚´ìš©ìž…ë‹ˆë‹¤.`,
    sourceMedia: "í…ŒìŠ¤íŠ¸",
  },
];

console.log("=".repeat(80));
console.log("í• ë£¨ì‹œë„¤ì´ì…˜ ê°ì§€ í…ŒìŠ¤íŠ¸ - ë‹¤ì–‘í•œ ì¼€ì´ìŠ¤");
console.log("=".repeat(80));

testCases.forEach((testCase, index) => {
  console.log(`\n[í…ŒìŠ¤íŠ¸ ${index + 1}] ${testCase.name}`);
  console.log("-".repeat(80));
  console.log(`ì œëª©: ${testCase.title}`);
  console.log(`ë‚´ìš©: ${testCase.content.substring(0, 80)}${testCase.content.length > 80 ? "..." : ""}`);
  console.log(`ì†ŒìŠ¤: ${testCase.sourceMedia}`);

  const result = checkHallucinationPatterns(testCase.title, testCase.content, testCase.sourceMedia);

  console.log(`\nê²°ê³¼: ${result.isSuspicious ? "ðŸ”´ ì˜ì‹¬ë¨" : "ðŸŸ¢ ì •ìƒ"}`);
  console.log(`ì ìˆ˜: ${result.score}/100`);
  if (result.reasons.length > 0) {
    console.log(`ì˜ì‹¬ ì‚¬ìœ :`);
    result.reasons.forEach((reason, idx) => {
      console.log(`  ${idx + 1}. ${reason}`);
    });
  }
  console.log("-".repeat(80));
});

console.log("\n" + "=".repeat(80));
console.log("í…ŒìŠ¤íŠ¸ ì™„ë£Œ");
console.log("=".repeat(80));

