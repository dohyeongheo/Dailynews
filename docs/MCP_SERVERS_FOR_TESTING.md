# 기능 테스트를 위한 MCP 서버 추천 가이드

## 개요

AI 에이전트가 기능 테스트를 수행하는 데 도움이 되는 MCP (Model Context Protocol) 서버들을 추천하고 설정 방법을 안내합니다.

## 현재 프로젝트에서 사용 가능한 테스트 관련 MCP 서버

### 1. Playwright MCP 서버 ⭐⭐⭐⭐⭐ (이미 설정됨)

**가장 추천하는 테스트 MCP 서버**

#### 기능
- 브라우저 자동화 및 E2E 테스트
- 페이지 탐색 및 상호작용
- 스크린샷 캡처
- 폼 작성 및 제출
- 네트워크 요청 모니터링
- 콘솔 메시지 확인

#### 테스트 시나리오
- **페이지 로드 테스트**: "메인 페이지가 정상적으로 로드되는지 확인해줘"
- **폼 제출 테스트**: "관리자 로그인 폼을 작성하고 제출해줘"
- **API 응답 테스트**: "뉴스 목록 API가 정상적으로 응답하는지 확인해줘"
- **에러 페이지 테스트**: "404 페이지가 올바르게 표시되는지 확인해줘"
- **반응형 테스트**: "모바일 화면에서 레이아웃이 올바른지 확인해줘"

#### 설정 상태
✅ **이미 설정됨** - `@playwright/mcp` 패키지 사용

#### 사용 예시
```typescript
// AI 에이전트에게 요청
"Playwright를 사용해서 메인 페이지를 열고 뉴스 카드가 표시되는지 확인해줘"
"관리자 페이지 로그인 폼을 테스트해줘"
"검색 기능이 정상 작동하는지 E2E 테스트를 실행해줘"
```

---

### 2. Browser MCP 서버 ⭐⭐⭐⭐⭐ (이미 설정됨)

**웹 브라우저 자동화 및 테스트**

#### 기능
- 페이지 탐색 및 스냅샷
- 요소 클릭 및 입력
- 스크린샷 캡처
- 네트워크 요청 모니터링
- 콘솔 메시지 확인

#### 테스트 시나리오
- **UI 테스트**: "뉴스 카드가 올바르게 렌더링되는지 확인해줘"
- **인터랙션 테스트**: "검색 버튼을 클릭하고 결과가 표시되는지 확인해줘"
- **접근성 테스트**: "페이지의 접근성 정보를 확인해줘"

#### 설정 상태
✅ **이미 설정됨** - `cursor-ide-browser` 사용

---

## 추가로 추천하는 테스트 MCP 서버

### 3. Postman/API 테스트 MCP 서버 ⭐⭐⭐⭐

**API 엔드포인트 테스트에 유용**

#### 추천 이유
- REST API 엔드포인트 테스트
- 요청/응답 검증
- 인증 토큰 관리
- API 문서 생성

#### 설정 방법 (참고)
```json
{
  "mcpServers": {
    "postman": {
      "command": "npx",
      "args": ["-y", "@postman/mcp-server"],
      "env": {
        "POSTMAN_API_KEY": "your_postman_api_key"
      }
    }
  }
}
```

#### 테스트 시나리오
- "뉴스 목록 API가 정상적으로 응답하는지 테스트해줘"
- "관리자 인증 API를 테스트해줘"
- "페이지뷰 추적 API의 응답 시간을 측정해줘"

---

### 4. Lighthouse/성능 테스트 MCP 서버 ⭐⭐⭐⭐

**웹 성능 및 접근성 테스트**

#### 추천 이유
- 페이지 성능 측정
- 접근성 점수 확인
- SEO 점수 확인
- Best Practices 검증

#### 설정 방법 (참고)
```json
{
  "mcpServers": {
    "lighthouse": {
      "command": "npx",
      "args": ["-y", "@lighthouse/mcp-server"],
      "env": {}
    }
  }
}
```

#### 테스트 시나리오
- "메인 페이지의 성능 점수를 측정해줘"
- "접근성 문제가 있는지 확인해줘"
- "페이지 로드 시간을 최적화할 수 있는 부분을 찾아줘"

---

### 5. Jest/Testing Library MCP 서버 ⭐⭐⭐

**단위 테스트 및 컴포넌트 테스트**

#### 추천 이유
- Jest 테스트 실행
- 컴포넌트 테스트 작성
- 테스트 커버리지 확인

#### 현재 프로젝트 상태
- ✅ Jest 이미 설치됨 (`package.json` 확인)
- ⚠️ MCP 서버는 아직 없음 (직접 구현 필요)

#### 대안: 기존 MCP 서버 활용
- **GitHub MCP**: 테스트 파일 생성 및 수정
- **Browser MCP**: 컴포넌트 렌더링 확인

---

## 테스트 시나리오별 추천 MCP 서버

### E2E (End-to-End) 테스트
1. **Playwright MCP** ⭐⭐⭐⭐⭐ (최우선)
2. **Browser MCP** ⭐⭐⭐⭐

### API 테스트
1. **Postman MCP** ⭐⭐⭐⭐ (설정 필요)
2. **GitHub MCP** (워크플로우 테스트)

### 성능 테스트
1. **Lighthouse MCP** ⭐⭐⭐⭐ (설정 필요)
2. **Vercel MCP** (배포 성능 모니터링)

### 데이터베이스 테스트
1. **Supabase MCP** ⭐⭐⭐⭐⭐ (이미 설정됨)
   - 테스트 데이터 생성
   - 데이터 무결성 검증
   - 쿼리 성능 테스트

### 배포 및 CI/CD 테스트
1. **Vercel MCP** ⭐⭐⭐⭐ (이미 설정됨)
   - 배포 상태 확인
   - 빌드 로그 분석
2. **GitHub MCP** ⭐⭐⭐⭐ (이미 설정됨)
   - 워크플로우 실행 확인
   - 테스트 결과 확인

### 에러 모니터링 테스트
1. **Sentry MCP** ⭐⭐⭐⭐ (이미 설정됨)
   - 에러 발생 확인
   - 에러 패턴 분석

---

## 실제 테스트 워크플로우 예시

### 시나리오 1: 뉴스 목록 페이지 테스트

```
1. Playwright MCP로 메인 페이지 열기
2. 뉴스 카드가 표시되는지 확인
3. 무한 스크롤이 작동하는지 확인
4. Browser MCP로 스크린샷 캡처
5. Supabase MCP로 데이터베이스에서 뉴스 개수 확인
6. Vercel MCP로 배포 상태 확인
```

### 시나리오 2: 관리자 페이지 테스트

```
1. Playwright MCP로 관리자 로그인 페이지 열기
2. 로그인 폼 작성 및 제출
3. 관리자 대시보드가 표시되는지 확인
4. Analytics 탭 클릭 및 데이터 확인
5. Browser MCP로 네트워크 요청 모니터링
6. Sentry MCP로 에러 발생 여부 확인
```

### 시나리오 3: API 엔드포인트 테스트

```
1. Supabase MCP로 테스트 데이터 생성
2. Postman MCP (또는 직접 API 호출)로 API 테스트
3. 응답 시간 및 상태 코드 확인
4. GitHub MCP로 테스트 결과를 이슈로 생성
5. Vercel MCP로 배포 후 재테스트
```

---

## 설정 우선순위

### 즉시 사용 가능 (이미 설정됨)
1. ✅ **Playwright MCP** - E2E 테스트
2. ✅ **Browser MCP** - 브라우저 자동화
3. ✅ **Supabase MCP** - 데이터베이스 테스트
4. ✅ **Vercel MCP** - 배포 테스트
5. ✅ **GitHub MCP** - CI/CD 테스트
6. ✅ **Sentry MCP** - 에러 모니터링

### 추가 설정 권장
1. **Postman MCP** - API 테스트 전용
2. **Lighthouse MCP** - 성능 테스트

---

## 테스트 자동화 예시

### AI 에이전트에게 요청할 수 있는 테스트 명령어

```typescript
// E2E 테스트
"Playwright를 사용해서 뉴스 목록 페이지의 모든 기능을 테스트해줘"
"관리자 로그인 플로우를 E2E 테스트로 검증해줘"

// API 테스트
"뉴스 목록 API를 테스트하고 응답 시간을 측정해줘"
"페이지뷰 추적 API가 정상 작동하는지 확인해줘"

// 데이터베이스 테스트
"Supabase에서 테스트 데이터를 생성하고 쿼리 성능을 확인해줘"
"Analytics 테이블에 데이터가 올바르게 저장되는지 검증해줘"

// 성능 테스트
"메인 페이지의 성능을 측정하고 개선점을 찾아줘"
"Lighthouse로 접근성 점수를 확인해줘"

// 배포 테스트
"Vercel 배포가 성공했는지 확인하고 빌드 로그를 분석해줘"
"GitHub Actions 워크플로우가 정상 실행되는지 확인해줘"

// 통합 테스트
"전체 사용자 플로우를 테스트해줘: 메인 페이지 → 뉴스 상세 → 검색"
"Analytics 기능이 정상 작동하는지 종합 테스트해줘"
```

---

## 테스트 결과 분석

### MCP 서버를 통한 테스트 결과 활용

1. **Playwright MCP**
   - 스크린샷을 통한 시각적 회귀 테스트
   - 네트워크 요청 로그 분석

2. **Supabase MCP**
   - 테스트 데이터 정리
   - 데이터 무결성 검증

3. **Sentry MCP**
   - 테스트 중 발생한 에러 추적
   - 에러 패턴 분석

4. **GitHub MCP**
   - 테스트 결과를 이슈로 생성
   - 테스트 리포트를 PR에 첨부

---

## 결론

### 최우선 추천: Playwright MCP 서버

**이유:**
- ✅ 이미 설정되어 있음
- ✅ E2E 테스트에 최적화
- ✅ 브라우저 자동화 기능 완비
- ✅ 스크린샷 및 네트워크 모니터링 지원
- ✅ 실제 사용자 시나리오 테스트 가능

### 추가 권장: Postman MCP 서버

**이유:**
- API 테스트 전용 도구
- 요청/응답 검증 용이
- 테스트 컬렉션 관리

### 현재 프로젝트의 테스트 인프라

현재 프로젝트는 이미 강력한 테스트 인프라를 갖추고 있습니다:

1. **Playwright MCP** - E2E 테스트
2. **Browser MCP** - 브라우저 자동화
3. **Supabase MCP** - 데이터베이스 테스트
4. **Vercel MCP** - 배포 테스트
5. **GitHub MCP** - CI/CD 테스트
6. **Sentry MCP** - 에러 모니터링

이러한 MCP 서버들을 조합하여 포괄적인 테스트를 수행할 수 있습니다.

---

## 참고 자료

- [Playwright 공식 문서](https://playwright.dev/)
- [Model Context Protocol 공식 문서](https://modelcontextprotocol.io/)
- [MCP 서버 목록](https://github.com/modelcontextprotocol/servers)

